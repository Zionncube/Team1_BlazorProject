@using FinanceTrackerApp.Services

@if (Alerts?.Any() == true)
{
    <div class="alerts-container">
        @foreach (var alert in Alerts)
        {
            <div class="alert alert-warning">
                <div class="alert-content">
                    <div class="alert-header">
                        <span class="alert-icon">⚠️</span>
                        <div class="alert-text">
                            <div class="alert-title">@alert.CategoryName - Over Budget!</div>
                            <div class="alert-message">
                                You've spent @alert.CurrentSpending.ToString("C0") out of @alert.BudgetLimit.ToString("C0")
                                <strong>(@Math.Round(alert.PercentageOver, 0))% over</strong>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
}

@code {
    [Parameter]
    public List<BudgetAlert>? Alerts { get; set; }
}

<style>
    .alerts-container {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
        margin-bottom: 1.5rem;
    }

    .alert {
        padding: 1rem;
        border-radius: 8px;
        border-left: 4px solid #FFB81C;
        background: rgba(255, 184, 28, 0.1);
        backdrop-filter: blur(10px);
    }

    .alert-warning {
        border-left-color: #FFB81C;
        background: rgba(255, 184, 28, 0.1);
    }

    .alert-content {
        display: flex;
        gap: 1rem;
    }

    .alert-header {
        display: flex;
        align-items: flex-start;
        gap: 0.75rem;
        width: 100%;
    }

    .alert-icon {
        font-size: 1.2rem;
        flex-shrink: 0;
    }

    .alert-text {
        flex: 1;
    }

    .alert-title {
        font-weight: 600;
        margin-bottom: 0.25rem;
    }

    .alert-message {
        font-size: 0.9rem;
        color: var(--text-secondary, #666);
    }
</style>
